{
  "version": 3,
  "sources": ["../../server/test-utils/testSetup.ts"],
  "sourcesContent": ["import '@testing-library/jest-dom';\nimport path from 'path';\n\nimport i18n from 'i18n';\n\nimport { CAPSession } from '../@types/session';\nimport config from '../config';\n\nimport { flashFormValues, flashMockErrors, loggerMocks, mockCheckFormProgressFromConfig, mockNow, sessionMock } from './testMocks';\n\njest.mock('../logging/logger', () => loggerMocks);\njest.mock('../middleware/checkFormProgressFromConfig', () => mockCheckFormProgressFromConfig)\n\nbeforeAll(() => {\n  i18n.configure({\n    defaultLocale: 'en',\n    locales: ['en'],\n    directory: path.resolve(__dirname, '../locales'),\n    updateFiles: false,\n    objectNotation: true,\n  });\n});\n\nbeforeEach(() => {\n  flashMockErrors.length = 0;\n  flashFormValues.length = 0;\n  Object.keys(sessionMock).forEach((key: keyof CAPSession) => delete sessionMock[key]);\n  jest.useFakeTimers({ advanceTimers: true }).setSystemTime(mockNow);\n  // Disable authentication by default for tests (can be overridden in individual tests)\n  config.useAuth = false;\n  (mockCheckFormProgressFromConfig as jest.Mock).mockClear();\n});\n\nafterEach(() => {\n  jest.clearAllMocks();\n});\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;AAAA,sBAAO;AACP,kBAAiB;AAEjB,kBAAiB;AAGjB,oBAAmB;AAEnB,uBAAqH;AAErH,KAAK,KAAK,qBAAqB,MAAM,4BAAW;AAChD,KAAK,KAAK,6CAA6C,MAAM,gDAA+B;AAE5F,UAAU,MAAM;AACd,cAAAA,QAAK,UAAU;AAAA,IACb,eAAe;AAAA,IACf,SAAS,CAAC,IAAI;AAAA,IACd,WAAW,YAAAC,QAAK,QAAQ,WAAW,YAAY;AAAA,IAC/C,aAAa;AAAA,IACb,gBAAgB;AAAA,EAClB,CAAC;AACH,CAAC;AAED,WAAW,MAAM;AACf,mCAAgB,SAAS;AACzB,mCAAgB,SAAS;AACzB,SAAO,KAAK,4BAAW,EAAE,QAAQ,CAAC,QAA0B,OAAO,6BAAY,GAAG,CAAC;AACnF,OAAK,cAAc,EAAE,eAAe,KAAK,CAAC,EAAE,cAAc,wBAAO;AAEjE,gBAAAC,QAAO,UAAU;AACjB,EAAC,iDAA8C,UAAU;AAC3D,CAAC;AAED,UAAU,MAAM;AACd,OAAK,cAAc;AACrB,CAAC;",
  "names": ["i18n", "path", "config"]
}
