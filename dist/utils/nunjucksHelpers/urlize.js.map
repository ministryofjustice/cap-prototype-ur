{
  "version": 3,
  "sources": ["../../../server/utils/nunjucksHelpers/urlize.ts"],
  "sourcesContent": ["// This is slightly modified from the nunjucks repo, but it doesn't strip out punctuation\n// https://github.com/mozilla/nunjucks/blob/master/nunjucks/src/filters.js#L576\n\nconst punctuationRegex = /^(\\(|<|&lt;)?(.*?)(\\.|,|\\)|\\n|&gt;)?$/;\nconst emailRegex = /^[\\w.!#$%&'*+\\-/=?^`{|}~]+@[a-z\\d-]+(\\.[a-z\\d-]+)+$/i;\nconst httpHttpsRegex = /^https?:\\/\\/.*$/;\n\nconst urlize = (string: string) => {\n  const words = string\n    .split(/(\\s+)/)\n    .filter((word) => word?.length)\n    .map((word) => {\n      let leadingPunctuation = '';\n      let trailingPunctuation = '';\n      let possibleUrl = word;\n\n      const matches = RegExp(punctuationRegex).exec(word);\n\n      if (matches) {\n        leadingPunctuation = matches[1] || '';\n        possibleUrl = matches[2];\n        trailingPunctuation = matches[3] || '';\n      }\n\n      if (httpHttpsRegex.test(possibleUrl)) {\n        return `${leadingPunctuation}<a href=\"${possibleUrl}\">${possibleUrl}</a>${trailingPunctuation}`;\n      }\n\n      if (emailRegex.test(possibleUrl)) {\n        return `${leadingPunctuation}<a href=\"mailto:${possibleUrl}\">${possibleUrl}</a>${trailingPunctuation}`;\n      }\n\n      return word;\n    });\n\n  return words.join('');\n};\n\nexport default urlize;\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,MAAM,mBAAmB;AACzB,MAAM,aAAa;AACnB,MAAM,iBAAiB;AAEvB,MAAM,SAAS,CAAC,WAAmB;AACjC,QAAM,QAAQ,OACX,MAAM,OAAO,EACb,OAAO,CAAC,SAAS,MAAM,MAAM,EAC7B,IAAI,CAAC,SAAS;AACb,QAAI,qBAAqB;AACzB,QAAI,sBAAsB;AAC1B,QAAI,cAAc;AAElB,UAAM,UAAU,OAAO,gBAAgB,EAAE,KAAK,IAAI;AAElD,QAAI,SAAS;AACX,2BAAqB,QAAQ,CAAC,KAAK;AACnC,oBAAc,QAAQ,CAAC;AACvB,4BAAsB,QAAQ,CAAC,KAAK;AAAA,IACtC;AAEA,QAAI,eAAe,KAAK,WAAW,GAAG;AACpC,aAAO,GAAG,kBAAkB,YAAY,WAAW,KAAK,WAAW,OAAO,mBAAmB;AAAA,IAC/F;AAEA,QAAI,WAAW,KAAK,WAAW,GAAG;AAChC,aAAO,GAAG,kBAAkB,mBAAmB,WAAW,KAAK,WAAW,OAAO,mBAAmB;AAAA,IACtG;AAEA,WAAO;AAAA,EACT,CAAC;AAEH,SAAO,MAAM,KAAK,EAAE;AACtB;AAEA,IAAO,iBAAQ;",
  "names": []
}
